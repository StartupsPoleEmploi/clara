<% content_for(:title) { t("administrate.actions.show_resource", name: page.page_title) } %>

<header class="main-content__header" role="banner">
  <h1 class="main-content__page-title">
    <%= content_for(:title) %>
  </h1>

  <div>
    <button class="button js-history">
      Voir l'historique
    </button>
    <%= link_to(
      "Modifier",
      [:edit, namespace, page.resource],
      class: "button",
    ) %>
    <%= link_to(
      "Outils d'admin",
      admin_get_hidden_admin_path,
      class: "button",
    ) %>
  </div>
</header>

<section class="main-content__body js-convention-details">
  <dl>
    <% page.attributes.each do |attribute| %>
      <dt class="attribute-label" id="<%= attribute.name %>">
      <%= t(
        "helpers.label.#{resource_name}.#{attribute.name}",
        default: attribute.name.titleize,
      ) %>
      </dt>

      <dd class="attribute-data attribute-data--<%=attribute.html_class%>"
          ><%= render_field attribute, page: page %></dd>
    <% end %>
  </dl>
</section>

<section class="history">
  <h2 class="focusable_tab_title" tabindex="0">Historique des modifications</h2>
  <%= render partial: 'admin/history/resume', locals: { resource: page.resource } %>  
</section>

